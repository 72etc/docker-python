#!/bin/bash
set -e

# Default behavior is to do everything from scratch.
# The --use-cache option is useful if you're iterating on a broken build.
if [[ "$1" ==  "--use-cache" ]]; then
    docker build --shm-size=512m --rm -t kaggle/python-build .
else
    docker pull continuumio/anaconda3:latest
    docker build  --shm-size=512m --rm --no-cache -t kaggle/python-build .
fi
